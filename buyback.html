<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy-Back Program - SneakPeak</title>
    <link rel="stylesheet" href="sneak.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-brand">
                <h1>SneakPeak</h1>
                <span class="verified-badge">âœ“ VERIFIED</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="sneakers.html">Sneakers</a></li>
                <li><a href="buyback.html" style="color: #667eea;">Buy-Back</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
            <div class="nav-actions">
                <div class="cart-icon" onclick="toggleCart()">
                    <span>ðŸ›’</span>
                    <span class="cart-count" id="cartCount">0</span>
                </div>
                <div id="authButtons">
                    <a href="login.html" class="btn-secondary">Login</a>
                    <a href="signup.html" class="btn-primary">Sign Up</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Buy-Back Hero -->
    <section class="hero" style="padding: 4rem 0;">
        <div class="container">
            <div class="hero-content" style="text-align: center;">
                <h1>Sell Your Sneakers Back</h1>
                <p>Get up to 80% of your purchase price back with our guaranteed buy-back program</p>
            </div>
        </div>
    </section>

    <!-- Buy-Back Form -->
    <section class="buyback-form-section">
        <div class="container">
            <div class="buyback-form-container">
                <h2>Start Your Buy-Back Request</h2>
                <form id="buybackForm" class="buyback-form">
                    <div class="form-group">
                        <label for="orderNumber">Original Order Number</label>
                        <input type="text" id="orderNumber" name="orderNumber" required placeholder="Enter your order number">
                    </div>

                    <div class="form-group">
                        <label for="sneakerModel">Sneaker Model</label>
                        <select id="sneakerModel" name="sneakerModel" required>
                            <option value="">Select your sneaker</option>
                            <optgroup label="Running Collection">
                                <option value="jordan-runner-pro">Jordan Runner Pro</option>
                                <option value="jordan-runner-elite">Jordan Runner Elite</option>
                                <option value="jordan-runner-max">Jordan Runner Max</option>
                                <option value="jordan-runner-sport">Jordan Runner Sport</option>
                                <option value="jordan-runner-limited">Jordan Runner Limited</option>
                            </optgroup>
                            <optgroup label="Walking Collection">
                                <option value="cloudstep-horizon">CloudStep Horizon</option>
                                <option value="velocity-crimson">Velocity Crimson</option>
                                <option value="ecostride-emerald">EcoStride Emerald</option>
                                <option value="luxe-amethyst">Luxe Amethyst</option>
                                <option value="solarflare-elite">SolarFlare Elite</option>
                            </optgroup>
                            <optgroup label="Streetwear Collection">
                                <option value="urban-street-pro">Urban Street Pro</option>
                                <option value="urban-street-elite">Urban Street Elite</option>
                                <option value="urban-street-max">Urban Street Max</option>
                                <option value="urban-street-luxury">Urban Street Luxury</option>
                                <option value="urban-street-limited">Urban Street Limited</option>
                            </optgroup>
                            <optgroup label="Hiking Collection">
                                <option value="trail-master-pro">Trail Master Pro</option>
                                <option value="mountain-explorer">Mountain Explorer</option>
                                <option value="alpine-trekker">Alpine Trekker</option>
                                <option value="summit-climber">Summit Climber</option>
                                <option value="peak-performance">Peak Performance</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="condition">Sneaker Condition</label>
                        <select id="condition" name="condition" required>
                            <option value="">Select condition</option>
                            <option value="new">New/Unworn (100% buy-back)</option>
                            <option value="excellent">Excellent (90% buy-back)</option>
                            <option value="good">Good (80% buy-back)</option>
                            <option value="fair">Fair (70% buy-back)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="photos">Upload Photos (Required)</label>
                        <input type="file" id="photos" name="photos" multiple accept="image/*" required>
                        <small>Upload at least 3 photos: front, side, and sole</small>
                    </div>

                    <div class="form-group">
                        <label for="reason">Reason for Selling Back</label>
                        <textarea id="reason" name="reason" placeholder="Optional: Tell us why you're selling back"></textarea>
                    </div>

                    <div class="estimated-value">
                        <h3>Estimated Buy-Back Value: <span id="estimatedValue">R0</span></h3>
                        <p>Final value determined after inspection</p>
                    </div>

                    <button type="submit" class="btn-primary large">Submit Buy-Back Request</button>
                </form>
            </div>

            <!-- Process Steps -->
            <div class="process-steps">
                <h2>How It Works</h2>
                <div class="steps-grid">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>Submit Request</h3>
                        <p>Fill out the form with your sneaker details and upload photos</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>Get Quote</h3>
                        <p>Receive instant quote based on condition and market value</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>Ship Sneakers</h3>
                        <p>Use our prepaid shipping label to send your sneakers</p>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <h3>Get Paid</h3>
                        <p>Receive payment within 24 hours of inspection</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>SneakPeak</h3>
                    <p>The most trusted sneaker resale platform</p>
                </div>
                <div class="footer-links">
                    <div class="link-group">
                        <h4>Platform</h4>
                        <a href="#">Buy Sneakers</a>
                        <a href="#">Sell Sneakers</a>
                        <a href="#">Buy-Back Program</a>
                        <a href="#">Authentication</a>
                    </div>
                    <div class="link-group">
                        <h4>Support</h4>
                        <a href="#">Help Center</a>
                        <a href="#">Contact Us</a>
                        <a href="#">Shipping Info</a>
                        <a href="#">Returns</a>
                    </div>
                    <div class="link-group">
                        <h4>Company</h4>
                        <a href="#">About Us</a>
                        <a href="#">Careers</a>
                        <a href="#">Press</a>
                        <a href="#">Blog</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SneakPeak. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Buy-back value calculator
        const sneakerValues = {
            // Running Collection
            'jordan-runner-pro': 2100,
            'jordan-runner-elite': 2300,
            'jordan-runner-max': 2750,
            'jordan-runner-sport': 2000,
            'jordan-runner-limited': 3000,
            // Walking Collection
            'cloudstep-horizon': 1550,
            'velocity-crimson': 1750,
            'ecostride-emerald': 1650,
            'luxe-amethyst': 1950,
            'solarflare-elite': 2000,
            // Streetwear Collection
            'urban-street-pro': 950,
            'urban-street-elite': 1150,
            'urban-street-max': 1300,
            'urban-street-luxury': 1200,
            'urban-street-limited': 1100,
            // Hiking Collection
            'trail-master-pro': 1650,
            'mountain-explorer': 1890,
            'alpine-trekker': 1750,
            'summit-climber': 2000,
            'peak-performance': 1950
        };

        const conditionMultipliers = {
            'new': 1.0,
            'excellent': 0.9,
            'good': 0.8,
            'fair': 0.7
        };

        function updateEstimatedValue() {
            const sneaker = document.getElementById('sneakerModel').value;
            const condition = document.getElementById('condition').value;
            
            if (sneaker && condition) {
                const baseValue = sneakerValues[sneaker] || 0;
                const multiplier = conditionMultipliers[condition] || 0;
                const estimatedValue = Math.round(baseValue * multiplier);
                
                document.getElementById('estimatedValue').textContent = `R${estimatedValue.toLocaleString()}`;
            } else {
                document.getElementById('estimatedValue').textContent = 'R0';
            }
        }

        document.getElementById('sneakerModel').addEventListener('change', updateEstimatedValue);
        document.getElementById('condition').addEventListener('change', updateEstimatedValue);

        // Form submission
        document.getElementById('buybackForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!isUserLoggedIn()) {
                window.location.href = 'login.html?redirect=buyback.html';
                return;
            }
            
            // User is logged in, process the form
            alert('Buy-back request submitted successfully! You will receive a confirmation email shortly.');
            window.location.href = 'index.html';
        });
        
        function isUserLoggedIn() {
            return localStorage.getItem('userLoggedIn') === 'true';
        }
        
        function updateNavigation() {
            const authButtons = document.getElementById('authButtons');
            
            if (isUserLoggedIn()) {
                authButtons.innerHTML = `
                    <button onclick="logout()" class="btn-secondary">Logout</button>
                `;
            } else {
                authButtons.innerHTML = `
                    <a href="login.html" class="btn-secondary">Login</a>
                    <a href="signup.html" class="btn-primary">Sign Up</a>
                `;
            }
        }
        
        function logout() {
            localStorage.removeItem('userLoggedIn');
            localStorage.removeItem('userEmail');
            localStorage.removeItem('cart');
            updateNavigation();
            alert('Logged out successfully');
        }

        function toggleCart() {
            window.location.href = 'index.html#cart';
        }

        // Update navigation on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateNavigation();
            document.getElementById('cartCount').textContent = JSON.parse(localStorage.getItem('cart') || '[]').length;
        });
        
        // Auto logout when browser/tab is closed
        window.addEventListener('beforeunload', function() {
            if (isUserLoggedIn()) {
                localStorage.removeItem('userLoggedIn');
                localStorage.removeItem('userEmail');
                localStorage.removeItem('cart');
            }
        });
    </script>
</body>
</html>